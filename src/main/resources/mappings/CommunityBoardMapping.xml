<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="CommunityBoardDAO">

	<resultMap type="communityBoard" id="communityResult">
		<result property="userImg" column="USERIMG" />
		<result property="date" column="DATE" />
		<result property="userName" column="USERNAME" />
		<result property="userAddress" column="USERADDRESS" />
		<result property="content" column="CONTENT" />
	</resultMap>
	
	<select id="getCommunityBoardList" resultType="communityBoard" parameterType="int">
		<![CDATA[SELECT * FROM (SELECT (row_number() over()) AS rnum, * FROM (SELECT * FROM communityBoard ORDER BY date DESC) AS a) AS b WHERE rnum >= #{startRow} AND rnum <= #{endRow}]]> 
	</select>
	
	<select id="getBoardCount" resultType="int">
		SELECT count(userName) FROM communityBoard
	</select>
	
</mapper>