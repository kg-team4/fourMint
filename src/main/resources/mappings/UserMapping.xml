<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="UserDAO">

	<resultMap type="user" id="userResult">
		<result property="email_id" column="EMAIL_ID" />
		<result property="password" column="PASSWORD" />
		<result property="name" column="NAME" />
		<result property="nickname" column="NICKNAME" />
		<result property="phone" column="PHONE" />
		<result property="address1" column="ADDRESS1" />
		<result property="address2" column="ADDRESS2" />
		<result property="address3" column="ADDRESS3" />
		<result property="birth" column="BIRTH" />
		<result property="gender" column="GENDER" />
	</resultMap>
	
	<insert id="insertUser" parameterType="user">
		INSERT INTO member (email_id, password, name, nickname, address1, address2, address3, phone, birth, gender) 
		VALUES (#{email_id}, #{password}, #{name}, #{nickname}, #{address1}, #{address2}, #{address3}, #{phone}, #{birth}, #{gender})
	</insert>
	
	<select id="getUser" resultType="user">
		SELECT * FROM member WHERE email_id = #{email_id} AND password = #{password}
	</select>
	
	<select id="getAddress1" resultType="string">
		SELECT address1 FROM member WHERE email_id = #{email_id}
	</select>
	
	<select id="getAddress2" resultType="string">
		SELECT address2 FROM member WHERE email_id = #{email_id}
	</select>
	
	<select id="getAddress3" resultType="string">
		SELECT address3 FROM member WHERE email_id = #{email_id}
	</select>

	<select id="idCheck" resultType="int" parameterType="String">
		SELECT COUNT(email_id) FROM member WHERE email_id = #{email_id}
	</select>

	<select id="nickCheck" resultType="int" parameterType="String">
		SELECT COUNT(nickname) FROM member WHERE nickname = #{nickname}
	</select>
	
	<select id="phoneCheck" resultType="int" parameterType="String">
		SELECT COUNT(phone) FROM member WHERE phone = #{phone}
	</select>
</mapper>